{% load crispy_forms_tags %}

<h3 class="text-center">Group Name: {{group.name}}</h3>
<hr />
<h4 class="text-center">Add Member</h4>
<div id="add_member_form_message"></div>
<div id="add_member_form">{% crispy form %}</div>
<hr />
<h4 class="text-center">Current Members</h4>
<table class="table">
  <thead>
    <tr>
      <th class="text-center" scope="col">Last Name</th>
      <th class="text-center" scope="col">First Name</th>
      <th class="text-center" scope="col">Position</th>
      <th class="text-center" scope="col">Delete</th>
    </tr>
  </thead>
  <tbody id="members-body">
    {% for position in group.members.all %}
    <tr id="mt-{{position.id}}">
      <td class="text-center">{{ position.user.last_name }}</td>
      <td class="text-center">{{ position.user.first_name }}</td>
      <td class="text-center">{{ position.get_position_display }}</td>
      <td class="text-center">
        <a
          href=""
          hx-delete="{% url 'remove_group_member' group.id position.id %}"
          hx-trigger="click"
          ><i class="bi bi-trash3-fill"></i
        ></a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
