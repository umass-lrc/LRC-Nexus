{% load crispy_forms_tags %} {% if success %}

<tr id="ft-{{faculty_id}}" class="curr-update">
  <td class="text-center">{{ faculty.faculty.last_name }}</td>
  <td class="text-center">{{ faculty.faculty.first_name }}</td>
  <td class="text-center">{{ faculty.faculty.email }}</td>
  <td class="text-center">
    <a
      href=""
      hx-get="{% url 'view_faculty_details' faculty_id %}"
      hx-trigger="click"
      hx-target="#view-faculty"
      ><i class="bi bi-eye-fill"></i
    ></a>
  </td>
  <td class="text-center">
    <a
      href=""
      hx-get="{% url 'update_faculty_details' faculty_id %}"
      hx-trigger="click"
      hx-swap="multi:#ft-{{faculty_id}}:outerHTML,#update-faculty-form:outerHTML"
      ><i class="bi bi-pencil-square"></i
    ></a>
  </td>
</tr>

<div id="update-faculty-message">{% include 'alerts.html' %}</div>
{% else %}
<tr id="ft-{{faculty_id}}" class="curr-update">
  <td class="text-center">{{ faculty.faculty.last_name }}</td>
  <td class="text-center">{{ faculty.faculty.first_name }}</td>
  <td class="text-center">{{ faculty.faculty.email }}</td>
  <td class="text-center">
    <a
      href=""
      hx-get="{% url 'view_faculty_details' faculty_id %}"
      hx-trigger="click"
      hx-target="#view-faculty"
      ><i class="bi bi-eye-fill"></i
    ></a>
  </td>
  <td class="text-center">
    <a
      href=""
      hx-get="{% url 'update_faculty_details' faculty_id %}"
      hx-trigger="click"
      hx-swap="multi:#ft-{{faculty_id}}:outerHTML,#update-faculty-form:outerHTML"
      ><i class="bi bi-pencil-square"></i
    ></a>
  </td>
</tr>

<div id="update-faculty-form">
  <div
    hx-get="{% url 'update_faculty_details_form' faculty_id %}"
    hx-trigger="load"
    hx-target="this"
    hx-swap="outerHTML"
  ></div>
</div>
{% endif %}
