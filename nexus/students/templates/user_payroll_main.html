<!--Extends base template-->
{% extends "base.html" %}
<!--So forms look good-->
{% load crispy_forms_tags %}

<!--Content of the page-->
{% block content %}
<h1 class="text-center">Manage Your Payroll</h1>
<hr />
<h3 class="text-center">Punch In/Out</h3>
<div id="punch-in-out-main">
  <div id="punch-in-out-message"></div>
  {% for position in positions_punch_in_out %}
  <div id="punch-in-out-form-{{position.id}}">
    <div
      hx-get="{% url 'punch_in_out_position' position.id %}"
      hx-trigger="revealed once"
      hx-swap="outerHTML"
      hx-target="this"
    ></div>
  </div>
  {% empty %}
  <p class="text-center">
    Looks like you don't have any position which requires punch in/out.
  </p>
  {% endfor %}
</div>
<hr />
{% endblock %} {% block bottom %}
<div class="accordion-item">
  <h2 class="accordion-header" id="flush-headingOne">
    <button
      class="accordion-button collapsed d-block text-center"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#flush-collapseOne"
      aria-expanded="false"
      aria-controls="flush-collapseOne"
      id="flush-collapseOne-button"
    >
      <h3>Edit User</h3>
    </button>
  </h2>
  <div
    id="flush-collapseOne"
    class="accordion-collapse collapse"
    aria-labelledby="flush-headingOne"
    data-bs-parent="#accordionFlushExample"
  >
    <div class="accordion-body" id="edit-user-form">
      <p class="text-center">
        Please go to the user row you want to edit and click the edit button.
      </p>
      <div>
        <div id="update_user_form_message"></div>
        <div id="update_user_form"></div>
      </div>
    </div>
  </div>
</div>
<div class="accordion-item">
  <h2 class="accordion-header" id="flush-headingTwo">
    <button
      class="accordion-button collapsed d-block text-center"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#flush-collapseTwo"
      aria-expanded="false"
      aria-controls="flush-collapseTwo"
    >
      <h3>Create User</h3>
    </button>
  </h2>
  <div
    id="flush-collapseTwo"
    class="accordion-collapse collapse"
    aria-labelledby="flush-headingTwo"
    data-bs-parent="#accordionFlushExample"
  >
    <div class="accordion-body">
      <div id="create-user-form">
        <div id="create_user_form_message"></div>
        <div
          hx-get="{% url 'create_user' %}"
          hx-target="this"
          hx-swap="outerHTML"
          hx-trigger="intersect once"
        ></div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
<!--Extra Scripts-->
{% block extra_scripts %}
<script></script>
{% endblock%}
